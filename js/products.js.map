{"version":3,"names":[],"mappings":"","sources":["products.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n\ttestStore.Products.list(function (resp) {\n\t\t$(\"#loading\").hide();\n\n\t\tconsole.log(resp.data);\n\n\t\t//Initiate the cart\n\t\tnewCart();\n\n\t\t// Foreach Product\n\t\t$.each(resp.data, function (k, product) {\n\n\t\t\t// Open Product Card\n\t\t\tvar product_card_html = '<div class=\"col-md-4\"><div id=\"' + product.id + '\" class=\"panel panel-default\"><div class=\"panel-body\">';\n\n\t\t\t// Product Name\n\t\t\tproduct_card_html += '<h3 class\"product_name\">' + product.name + '</h3>';\n\n\t\t\t// Product Description\n\t\t\tproduct_card_html += '<p class\"product_description\">' + product.description + '</p>';\n\n\t\t\t// Add buttons\n\t\t\tproduct_card_html += '<button id=\"add_cart_' + product.id + '\" class=\"btn btn-default\">Add to Cart</button><button class=\"btn btn-default\">More Information</button>';\n\n\t\t\t// Close Product Card\n\t\t\tproduct_card_html += '</div></div></div>';\n\n\t\t\t$('#products').append(product_card_html).fadeIn();\n\n\t\t\t$(\"#add_cart_\" + product.id).click(function () {\n\t\t\t\taddToCart(product.id);\n\t\t\t});\n\t\t});\n\n\t\t$(\"#clear_cart\").append('<button id=\"clear_cart_btn\" class=\"btn btn-default\">Clear Cart</button>');\n\n\t\t$(\"#clear_cart_btn\").click(function () {\n\t\t\tclearCart();\n\t\t});\n\t}, function (error) {\n\t\tconsole.log(error);\n\t});\n\n\tfunction newCart() {\n\n\t\ttestStore.Cart.retrieve(function (resp) {\n\t\t\tconsole.log(resp);\n\t\t\tif (resp.total_items >= 1) {\n\t\t\t\t$('#cart').empty().append('<span class=\"glyphicon glyphicon-shopping-cart\"></span> ' + resp.subtotal.formatted_with_symbol);\n\t\t\t}\n\t\t}, function (error) {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n\n\tfunction addToCart(product_id) {\n\n\t\ttestStore.Cart.add({\n\t\t\t'id': product_id,\n\t\t\t'quantity': 1\n\t\t}, function (resp) {\n\t\t\tconsole.log(resp);\n\t\t\t$(\"#cart\").empty().append('<span class=\"glyphicon glyphicon-shopping-cart\"></span> ' + resp.cart.subtotal.formatted_with_symbol);\n\t\t});\n\t}\n\n\tfunction clearCart() {\n\n\t\ttestStore.Cart.empty(function (resp) {\n\t\t\tconsole.log(resp.cart.subtotal.formatted_with_symbol);\n\t\t\t$(\"#cart\").empty();\n\t\t});\n\t}\n});\n\n},{}]},{},[1]);\n"],"file":"products.js"}